import{c as S,_ as v,j as e}from"./index-DK_hZk0u.js";import{r as c}from"./vendor-DiiPbxpF.js";import{A as B}from"./dashboard-ALj-KCgF.js";import{A as p}from"./activity-CGNjXzkL.js";import{P as C}from"./plus-t5UQfv1P.js";import{S as F,a as Y}from"./shield-B6_qrRPZ.js";import{S as ee,E as se}from"./search-CRPijxEc.js";import{B as w}from"./building-2-sHKMCu-g.js";import{G as $,C as x,X as j}from"./x-circle-utWBGpiM.js";import{U as te}from"./users-Bdfksgm0.js";import{F as ae}from"./file-text-DYKlKj8w.js";import{D as le}from"./dollar-sign-DwGDrH1q.js";import{X as P}from"./x-uP8gUt8b.js";import"./router-Cc-_B42c.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=S("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=S("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=S("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);function Ne(){const[f,z]=c.useState([]),[y,_]=c.useState([]),[A,E]=c.useState(!0),[L,k]=c.useState(null),[d,O]=c.useState(""),[R,h]=c.useState(!1),[U,u]=c.useState(!1),[a,b]=c.useState(null),[H,D]=c.useState(!1),[N,T]=c.useState(!1),[l,o]=c.useState({name:"",subdomain:"",domain:"",tier:"Trial",billingContactName:"",billingContactEmail:"",technicalContactName:"",technicalContactEmail:"",notes:""}),[r,g]=c.useState({status:"all",tier:"all",healthScore:"all",sortBy:"name",sortOrder:"asc"});c.useEffect(()=>{M()},[]),c.useEffect(()=>{V()},[f,d,r]);const M=async()=>{try{E(!0),k(null);const{platformAdminApi:s}=await v(async()=>{const{platformAdminApi:i}=await import("./api-DSWGjQU1.js");return{platformAdminApi:i}},[]),t=await s.getClients();z(t)}catch(s){console.error("Failed to fetch client data:",s),k(s instanceof Error?s.message:"Failed to load client data")}finally{E(!1)}},V=()=>{let s=[...f];d&&(s=s.filter(t=>t.name.toLowerCase().includes(d.toLowerCase())||t.subdomain.toLowerCase().includes(d.toLowerCase())||t.domain?.toLowerCase().includes(d.toLowerCase()))),r.status!=="all"&&(s=s.filter(t=>t.status.toLowerCase()===r.status.toLowerCase())),r.tier!=="all"&&(s=s.filter(t=>t.tier.toLowerCase()===r.tier.toLowerCase())),r.healthScore!=="all"&&(s=s.filter(t=>r.healthScore==="excellent"?t.healthScore>=90:r.healthScore==="good"?t.healthScore>=70&&t.healthScore<90:r.healthScore==="poor"?t.healthScore<70:!0)),s.sort((t,i)=>{let n=t[r.sortBy],m=i[r.sortBy];return typeof n=="string"&&(n=n.toLowerCase(),m=m.toLowerCase()),r.sortOrder==="asc"?n<m?-1:n>m?1:0:n>m?-1:n<m?1:0}),_(s)},q=s=>{const i={Active:{icon:x,color:"bg-green-100 text-green-800",iconColor:"text-green-600"},Trial:{icon:I,color:"bg-yellow-100 text-yellow-800",iconColor:"text-yellow-600"},Suspended:{icon:re,color:"bg-orange-100 text-orange-800",iconColor:"text-orange-600"},Inactive:{icon:j,color:"bg-red-100 text-red-800",iconColor:"text-red-600"},Pending:{icon:I,color:"bg-blue-100 text-blue-800",iconColor:"text-blue-600"}}[s],n=i?.icon||x;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i?.color||"bg-gray-100 text-gray-800"}`,children:[e.jsx(n,{size:12,className:`mr-1 ${i?.iconColor||"text-gray-600"}`}),s]})},G=s=>{let t="text-green-600";return s<70?t="text-red-600":s<90&&(t="text-yellow-600"),e.jsxs("div",{className:`flex items-center space-x-1 ${t}`,children:[e.jsx(p,{size:14}),e.jsxs("span",{className:"font-medium",children:[s,"%"]})]})},Q=async()=>{try{T(!0);const{platformAdminApi:s}=await v(async()=>{const{platformAdminApi:n}=await import("./api-DSWGjQU1.js");return{platformAdminApi:n}},[]);if(!l.name.trim()){alert("Organization name is required");return}if(!l.subdomain.trim()){alert("Subdomain is required");return}if(!/^[a-z0-9-]+$/.test(l.subdomain)){alert("Subdomain can only contain lowercase letters, numbers, and hyphens");return}const t={name:l.name.trim(),subdomain:l.subdomain.trim().toLowerCase(),tier:l.tier,...l.domain.trim()&&{domain:l.domain.trim()},...l.billingContactName.trim()&&{billingContactName:l.billingContactName.trim()},...l.billingContactEmail.trim()&&{billingContactEmail:l.billingContactEmail.trim()},...l.technicalContactName.trim()&&{technicalContactName:l.technicalContactName.trim()},...l.technicalContactEmail.trim()&&{technicalContactEmail:l.technicalContactEmail.trim()},...l.notes.trim()&&{notes:l.notes.trim()}},i=await s.createClient(t);z(n=>[i,...n]),o({name:"",subdomain:"",domain:"",tier:"Trial",billingContactName:"",billingContactEmail:"",technicalContactName:"",technicalContactEmail:"",notes:""}),h(!1),alert(`Client "${i.name}" created successfully!`)}catch(s){console.error("Failed to create client:",s),alert(s instanceof Error?s.message:"Failed to create client")}finally{T(!1)}},X=s=>{o(t=>({...t,name:s,subdomain:t.subdomain||s.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-|-$/g,"").substring(0,50)}))},Z=async s=>{try{D(!0),u(!0);const{platformAdminApi:t}=await v(async()=>{const{platformAdminApi:n}=await import("./api-DSWGjQU1.js");return{platformAdminApi:n}},[]),i=await t.getClient(s);b(i)}catch(t){console.error("Failed to load client details:",t),alert(t instanceof Error?t.message:"Failed to load client details"),u(!1)}finally{D(!1)}},J=s=>{console.log(`Impersonate client: ${s}`)},K=s=>{console.log(`Manage client: ${s}`)},W=s=>{console.log(`Edit client: ${s}`)};return A?e.jsx("div",{className:"client-management",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner",children:e.jsx(p,{className:"animate-spin",size:48})}),e.jsx("p",{className:"loading-text",children:"Loading client organizations..."})]})}):e.jsxs("div",{className:"client-management",children:[L&&e.jsxs("div",{className:"alert alert-error mb-6",children:[e.jsx(B,{size:20}),e.jsx("span",{children:L}),e.jsx("button",{onClick:M,className:"btn btn-sm",children:"Retry"})]}),e.jsx("section",{className:"page-header mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Client Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor all client organizations across the platform"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[y.length," of ",f.length," clients displayed"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary flex items-center space-x-2",children:[e.jsx(C,{size:16}),e.jsx("span",{children:"Add Client"})]}),e.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Bulk Actions"})]})]})]})}),e.jsx("section",{className:"search-filters mb-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ee,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search clients by name, subdomain, or domain...",value:d,onChange:s=>O(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:r.status,onChange:s=>g(t=>({...t,status:s.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsxs("select",{value:r.tier,onChange:s=>g(t=>({...t,tier:s.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"enterprise",children:"Enterprise"}),e.jsx("option",{value:"custom",children:"Custom"})]}),e.jsxs("select",{value:r.healthScore,onChange:s=>g(t=>({...t,healthScore:s.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Health"}),e.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),e.jsx("option",{value:"good",children:"Good (70-89%)"}),e.jsx("option",{value:"poor",children:"Poor (<70%)"})]}),e.jsxs("select",{value:`${r.sortBy}-${r.sortOrder}`,onChange:s=>{const[t,i]=s.target.value.split("-");t&&i&&g(n=>({...n,sortBy:t,sortOrder:i}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name-asc",children:"Name A-Z"}),e.jsx("option",{value:"name-desc",children:"Name Z-A"}),e.jsx("option",{value:"createdAt-desc",children:"Newest First"}),e.jsx("option",{value:"createdAt-asc",children:"Oldest First"}),e.jsx("option",{value:"monthlyRevenue-desc",children:"Revenue High-Low"}),e.jsx("option",{value:"healthScore-desc",children:"Health High-Low"})]})]})]})})}),e.jsx("section",{className:"client-list",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Organization"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Tier"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Users"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Documents"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Revenue"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Health"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(w,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.subdomain,".spaghetti.app"]}),s.domain&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx($,{size:10,className:"mr-1"}),s.domain]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:q(s.status)}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tier})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(te,{size:14}),e.jsx("span",{className:"font-medium",children:s.userCount})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(ae,{size:14}),e.jsx("span",{className:"font-medium",children:s.documentCount.toLocaleString()})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(le,{size:14}),e.jsx("span",{className:"font-medium",children:s.monthlyRevenue>0?`$${s.monthlyRevenue.toLocaleString()}`:"Trial"})]})}),e.jsx("td",{className:"py-4 px-6",children:G(s.healthScore)}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Z(s.id),className:"p-1 text-gray-400 hover:text-blue-600",title:"View details",children:e.jsx(se,{size:16})}),e.jsx("button",{onClick:()=>J(s.id),className:"p-1 text-gray-400 hover:text-green-600",title:"Impersonate",children:e.jsx(F,{size:16})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-1 text-gray-400 hover:text-yellow-600",title:"Edit",children:e.jsx(ne,{size:16})}),e.jsx("button",{onClick:()=>K(s.id),className:"p-1 text-gray-400 hover:text-gray-600",title:"Manage",children:e.jsx(Y,{size:16})})]})})]},s.id))})]})}),y.length===0&&!A&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No clients found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d||r.status!=="all"||r.tier!=="all"?"Try adjusting your search or filters":"Get started by adding your first client organization"}),!d&&r.status==="all"&&r.tier==="all"&&e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary",children:[e.jsx(C,{size:16,className:"mr-2"}),"Add First Client"]})]})]})}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Client Organization"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(P,{size:24})})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),Q()},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Organization Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>X(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. Acme Legal Partners",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subdomain *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",value:l.subdomain,onChange:s=>o(t=>({...t,subdomain:s.target.value.toLowerCase()})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"acme-legal",pattern:"^[a-z0-9-]+$",required:!0}),e.jsx("span",{className:"px-3 py-2 bg-gray-100 border border-l-0 border-gray-300 rounded-r-lg text-gray-600",children:".spaghetti.app"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and hyphens"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain (Optional)"}),e.jsx("input",{type:"text",value:l.domain,onChange:s=>o(t=>({...t,domain:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. docs.acmelegal.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Tier *"}),e.jsxs("select",{value:l.tier,onChange:s=>o(t=>({...t,tier:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"Trial",children:"Trial (Free, 30 days)"}),e.jsx("option",{value:"Professional",children:"Professional ($799/month)"}),e.jsx("option",{value:"Enterprise",children:"Enterprise ($2,499/month)"}),e.jsx("option",{value:"Custom",children:"Custom (Contact sales)"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Billing Contact Name"}),e.jsx("input",{type:"text",value:l.billingContactName,onChange:s=>o(t=>({...t,billingContactName:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Smith"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Billing Contact Email"}),e.jsx("input",{type:"email",value:l.billingContactEmail,onChange:s=>o(t=>({...t,billingContactEmail:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"billing@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technical Contact Name"}),e.jsx("input",{type:"text",value:l.technicalContactName,onChange:s=>o(t=>({...t,technicalContactName:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jane Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technical Contact Email"}),e.jsx("input",{type:"email",value:l.technicalContactEmail,onChange:s=>o(t=>({...t,technicalContactEmail:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tech@example.com"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Admin Notes"}),e.jsx("textarea",{value:l.notes,onChange:s=>o(t=>({...t,notes:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Internal notes about this client organization..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-secondary",disabled:N,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"animate-spin",size:16}),e.jsx("span",{children:"Creating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{size:16}),e.jsx("span",{children:"Create Client"})]})})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Client Organization Details"}),e.jsx("button",{onClick:()=>{u(!1),b(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(P,{size:24})})]}),H?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(p,{className:"animate-spin",size:48}),e.jsx("span",{className:"ml-3",children:"Loading client details..."})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(w,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsxs("p",{className:"text-gray-600",children:[a.subdomain,".spaghetti.app"]}),a.domain&&e.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx($,{size:12,className:"mr-1"}),a.domain]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.userCount}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.activeUsers||Math.floor(a.userCount*.7)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.documentCount.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600",children:"Documents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.healthScore,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Health Score"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Subscription & Billing"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tier:"}),e.jsx("span",{className:"font-medium",children:a.tier})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Revenue:"}),e.jsx("span",{className:"font-medium",children:a.monthlyRevenue>0?`$${a.monthlyRevenue.toLocaleString()}`:"Trial"})]}),a.annualContract&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Annual Contract:"}),e.jsxs("span",{className:"font-medium",children:["$",a.annualContract.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Trial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Storage & Usage"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Storage Used:"}),e.jsxs("span",{className:"font-medium",children:[a.storageUsedMB," MB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Storage Quota:"}),e.jsxs("span",{className:"font-medium",children:[a.storageQuotaMB," MB"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(a.storageUsedMB/a.storageQuotaMB*100,100)}%`}})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Documents This Month:"}),e.jsx("span",{className:"font-medium",children:a.documentsThisMonth||Math.floor(a.documentCount*.3)})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Features"}),e.jsxs("div",{className:"space-y-2",children:[a.features&&a.features.map((s,t)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-gray-700",children:s})]},t)),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.customBranding?e.jsx(x,{size:16,className:"text-green-600"}):e.jsx(j,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:"Custom Branding"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.ssoEnabled?e.jsx(x,{size:16,className:"text-green-600"}):e.jsx(j,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:"SSO Integration"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.apiAccess?e.jsx(x,{size:16,className:"text-green-600"}):e.jsx(j,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:"API Access"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-gray-900",children:"Billing Contact"}),e.jsx("p",{className:"text-gray-600",children:a.billingContact?.name||"Not provided"}),e.jsx("p",{className:"text-gray-600",children:a.billingContact?.email||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-gray-900",children:"Technical Contact"}),e.jsx("p",{className:"text-gray-600",children:a.technicalContact?.name||"Not provided"}),e.jsx("p",{className:"text-gray-600",children:a.technicalContact?.email||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Timeline"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(a.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Active:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(a.lastActive).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{u(!1),b(null)},className:"btn btn-secondary",children:"Close"}),e.jsx("button",{className:"btn btn-primary",children:"Manage Client"})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Failed to load client details"})]})]})})})]})}export{Ne as default};
