import{c as u,j as e}from"./index-CJn64ckD.js";import{r}from"./vendor-DiiPbxpF.js";import{A as Z}from"./dashboard-SXJopxrc.js";import{A as y}from"./activity-B8F3M8vM.js";import{P as b}from"./plus-BytQZZGl.js";import{S as v}from"./shield-BG0-ygLC.js";import{S as $}from"./search-BF6YcpkZ.js";import{B as N}from"./building-2-BCMEtVZN.js";import{G as F,X as I,C}from"./x-circle-CRJUFmTU.js";import{U as O}from"./users-BAZjUn5Y.js";import{F as D}from"./file-text-ByE7RhXR.js";import{D as U}from"./dollar-sign-BTArGAa9.js";import{E as G}from"./eye-icOIaM1V.js";import{S as H}from"./settings-CFZAKK4k.js";import"./router-Cc-_B42c.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=u("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=u("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=u("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);function oe(){const[d,w]=r.useState([]),[m,A]=r.useState([]),[h,p]=r.useState(!0),[g,f]=r.useState(null),[n,T]=r.useState(""),[L,x]=r.useState(!1),[a,c]=r.useState({status:"all",tier:"all",healthScore:"all",sortBy:"name",sortOrder:"asc"});r.useEffect(()=>{j()},[]),r.useEffect(()=>{k()},[d,n,a]);const j=async()=>{try{p(!0),f(null),w([{id:"client-1",name:"Acme Legal Partners",subdomain:"acme-legal",domain:"acmelegal.com",tier:"Enterprise",status:"Active",userCount:156,documentCount:2847,storageUsedMB:1024,storageQuotaMB:5120,monthlyRevenue:2499,annualContract:29988,createdAt:"2024-03-15T10:30:00Z",lastActive:"2025-07-25T10:30:00Z",healthScore:98,supportTickets:2,billingContact:{name:"Sarah Johnson",email:"billing@acmelegal.com"},technicalContact:{name:"Michael Chen",email:"tech@acmelegal.com"},features:["SSO","API Access","Custom Branding","Advanced Analytics","Priority Support"],customBranding:!0,ssoEnabled:!0,apiAccess:!0},{id:"client-2",name:"TechStart Innovation",subdomain:"techstart",tier:"Professional",status:"Active",userCount:28,documentCount:445,storageUsedMB:256,storageQuotaMB:1024,monthlyRevenue:799,createdAt:"2024-11-08T14:22:00Z",lastActive:"2025-07-25T09:15:00Z",healthScore:95,supportTickets:0,billingContact:{name:"Alex Thompson",email:"alex@techstart.io"},technicalContact:{name:"Jamie Rodriguez",email:"jamie@techstart.io"},features:["Standard Support","Team Collaboration","Document Templates"],customBranding:!1,ssoEnabled:!1,apiAccess:!0},{id:"client-3",name:"Global Consulting Group",subdomain:"global-consulting",domain:"globalconsulting.com",tier:"Enterprise",status:"Trial",userCount:75,documentCount:1203,storageUsedMB:512,storageQuotaMB:5120,monthlyRevenue:0,createdAt:"2025-07-10T08:45:00Z",lastActive:"2025-07-25T11:45:00Z",healthScore:87,supportTickets:3,billingContact:{name:"Robert Kim",email:"finance@globalconsulting.com"},technicalContact:{name:"Lisa Wang",email:"lisa.wang@globalconsulting.com"},features:["Trial Access","SSO","Custom Branding","Advanced Analytics"],customBranding:!0,ssoEnabled:!0,apiAccess:!1},{id:"client-4",name:"StartupLaw Advisors",subdomain:"startuplaw",tier:"Professional",status:"Suspended",userCount:12,documentCount:189,storageUsedMB:128,storageQuotaMB:1024,monthlyRevenue:599,createdAt:"2024-09-22T16:10:00Z",lastActive:"2025-07-20T14:22:00Z",healthScore:65,supportTickets:5,billingContact:{name:"David Lee",email:"david@startuplaw.com"},technicalContact:{name:"Emily Chen",email:"emily@startuplaw.com"},features:["Standard Support","Team Collaboration"],customBranding:!1,ssoEnabled:!1,apiAccess:!1}])}catch(t){console.error("Failed to fetch client data:",t),f(t instanceof Error?t.message:"Failed to load client data")}finally{p(!1)}},k=()=>{let t=[...d];n&&(t=t.filter(s=>s.name.toLowerCase().includes(n.toLowerCase())||s.subdomain.toLowerCase().includes(n.toLowerCase())||s.domain?.toLowerCase().includes(n.toLowerCase()))),a.status!=="all"&&(t=t.filter(s=>s.status.toLowerCase()===a.status.toLowerCase())),a.tier!=="all"&&(t=t.filter(s=>s.tier.toLowerCase()===a.tier.toLowerCase())),a.healthScore!=="all"&&(t=t.filter(s=>a.healthScore==="excellent"?s.healthScore>=90:a.healthScore==="good"?s.healthScore>=70&&s.healthScore<90:a.healthScore==="poor"?s.healthScore<70:!0)),t.sort((s,i)=>{let l=s[a.sortBy],o=i[a.sortBy];return typeof l=="string"&&(l=l.toLowerCase(),o=o.toLowerCase()),a.sortOrder==="asc"?l<o?-1:l>o?1:0:l>o?-1:l<o?1:0}),A(t)},B=t=>{const i={Active:{icon:C,color:"bg-green-100 text-green-800",iconColor:"text-green-600"},Trial:{icon:S,color:"bg-yellow-100 text-yellow-800",iconColor:"text-yellow-600"},Suspended:{icon:V,color:"bg-orange-100 text-orange-800",iconColor:"text-orange-600"},Inactive:{icon:I,color:"bg-red-100 text-red-800",iconColor:"text-red-600"},Pending:{icon:S,color:"bg-blue-100 text-blue-800",iconColor:"text-blue-600"}}[t],l=i?.icon||C;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i?.color||"bg-gray-100 text-gray-800"}`,children:[e.jsx(l,{size:12,className:`mr-1 ${i?.iconColor||"text-gray-600"}`}),t]})},z=t=>{let s="text-green-600";return t<70?s="text-red-600":t<90&&(s="text-yellow-600"),e.jsxs("div",{className:`flex items-center space-x-1 ${s}`,children:[e.jsx(y,{size:14}),e.jsxs("span",{className:"font-medium",children:[t,"%"]})]})},E=t=>{console.log(`View client details: ${t}`)},M=t=>{console.log(`Impersonate client: ${t}`)},P=t=>{console.log(`Manage client: ${t}`)},R=t=>{console.log(`Edit client: ${t}`)};return h?e.jsx("div",{className:"client-management",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner",children:e.jsx(y,{className:"loading-icon animate-spin"})}),e.jsx("p",{className:"loading-text",children:"Loading client organizations..."})]})}):e.jsxs("div",{className:"client-management",children:[g&&e.jsxs("div",{className:"alert alert-error mb-6",children:[e.jsx(Z,{size:20}),e.jsx("span",{children:g}),e.jsx("button",{onClick:j,className:"btn btn-sm",children:"Retry"})]}),e.jsx("section",{className:"page-header mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Client Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor all client organizations across the platform"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[m.length," of ",d.length," clients displayed"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"btn btn-primary flex items-center space-x-2",children:[e.jsx(b,{size:16}),e.jsx("span",{children:"Add Client"})]}),e.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[e.jsx(v,{size:16}),e.jsx("span",{children:"Bulk Actions"})]})]})]})}),e.jsx("section",{className:"search-filters mb-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx($,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search clients by name, subdomain, or domain...",value:n,onChange:t=>T(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:a.status,onChange:t=>c(s=>({...s,status:t.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsxs("select",{value:a.tier,onChange:t=>c(s=>({...s,tier:t.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"enterprise",children:"Enterprise"}),e.jsx("option",{value:"custom",children:"Custom"})]}),e.jsxs("select",{value:a.healthScore,onChange:t=>c(s=>({...s,healthScore:t.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Health"}),e.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),e.jsx("option",{value:"good",children:"Good (70-89%)"}),e.jsx("option",{value:"poor",children:"Poor (<70%)"})]}),e.jsxs("select",{value:`${a.sortBy}-${a.sortOrder}`,onChange:t=>{const[s,i]=t.target.value.split("-");s&&i&&c(l=>({...l,sortBy:s,sortOrder:i}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name-asc",children:"Name A-Z"}),e.jsx("option",{value:"name-desc",children:"Name Z-A"}),e.jsx("option",{value:"createdAt-desc",children:"Newest First"}),e.jsx("option",{value:"createdAt-asc",children:"Oldest First"}),e.jsx("option",{value:"monthlyRevenue-desc",children:"Revenue High-Low"}),e.jsx("option",{value:"healthScore-desc",children:"Health High-Low"})]})]})]})})}),e.jsx("section",{className:"client-list",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Organization"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Tier"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Users"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Documents"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Revenue"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Health"}),e.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.subdomain,".spaghetti.app"]}),t.domain&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(F,{size:10,className:"mr-1"}),t.domain]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:B(t.status)}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.tier})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(O,{size:14}),e.jsx("span",{className:"font-medium",children:t.userCount})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(D,{size:14}),e.jsx("span",{className:"font-medium",children:t.documentCount.toLocaleString()})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-1 text-gray-900",children:[e.jsx(U,{size:14}),e.jsx("span",{className:"font-medium",children:t.monthlyRevenue>0?`$${t.monthlyRevenue.toLocaleString()}`:"Trial"})]})}),e.jsx("td",{className:"py-4 px-6",children:z(t.healthScore)}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(t.id),className:"p-1 text-gray-400 hover:text-blue-600",title:"View details",children:e.jsx(G,{size:16})}),e.jsx("button",{onClick:()=>M(t.id),className:"p-1 text-gray-400 hover:text-green-600",title:"Impersonate",children:e.jsx(v,{size:16})}),e.jsx("button",{onClick:()=>R(t.id),className:"p-1 text-gray-400 hover:text-yellow-600",title:"Edit",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-1 text-gray-400 hover:text-gray-600",title:"Manage",children:e.jsx(H,{size:16})})]})})]},t.id))})]})}),m.length===0&&!h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"empty-state-icon mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No clients found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n||a.status!=="all"||a.tier!=="all"?"Try adjusting your search or filters":"Get started by adding your first client organization"}),!n&&a.status==="all"&&a.tier==="all"&&e.jsxs("button",{onClick:()=>x(!0),className:"btn btn-primary",children:[e.jsx(b,{size:16,className:"mr-2"}),"Add First Client"]})]})]})}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Client"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Client creation modal will be implemented here."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"btn btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{className:"btn btn-primary flex-1",children:"Create Client"})]})]})})]})}export{oe as default};
